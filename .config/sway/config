set $mod Mod4
set $left h
set $down j
set $up k
set $right l

set $term footclient
set $menu fuzzel

# Font
font pango:Fira Sans 11

# Window borders
default_border pixel 2
default_floating_border normal
hide_edge_borders smart
client.focused          #BFA2DB #BFA2DB #D8BFD8 #BFA2DB #BFA2DB
client.unfocused        #3A3A3A #3A3A3A #555555 #3A3A3A #3A3A3A

seat seat0 hide_cursor 3000
focus_follows_mouse yes

smart_gaps on
gaps inner 5
gaps outer 5

# Autostart
exec waybg
exec foot -s
exec mpd
exec nightcolor
exec transmission-daemon
exec wl-paste --type text --watch cliphist store
exec wl-paste --type image --watch cliphist store
exec waybar -c $HOME/.config/sway/waybar/config -s $HOME/.config/sway/waybar/style.css

## checking
exec systemctl --user set-environment XDG_CURRENT_DESKTOP=sway
exec systemctl --user import-environment DISPLAY \
                                         SWAYSOCK \
                                         WAYLAND_DISPLAY \
                                         XDG_CURRENT_DESKTOP

exec hash dbus-update-activation-environment 2>/dev/null && \
     dbus-update-activation-environment --systemd DISPLAY \
                                                  SWAYSOCK \
                                                  XDG_CURRENT_DESKTOP=sway \
                                                  WAYLAND_DISPLAY

### Idle configuration
exec swayidle -w timeout 60 'swaymsg "output * power off"' resume 'swaymsg "output * power on"'

# Keyboard settings
input * {
    xkb_layout us,np
    xkb_numlock enabled
    xkb_options grp:sclk_toggle,caps:swapescape
    repeat_delay 300
    accel_profile flat
    pointer_accel 0
}

# Touchpad settings
input type:touchpad {
    natural_scroll disabled
    dwt enabled
    click_method clickfinger
    middle_emulation disabled
    scroll_method two_finger
    tap enabled
}

# Monitor configuration
output eDP-1 mode 1920x1080@60Hz position 0 0 scale 1

# Make dialogs and certain apps float
for_window [window_role="pop-up"] floating enable
for_window [title="Save As"] floating enable
for_window [app_id="mpv"] floating enable
for_window [app_id="mpv"] border none
for_window [app_id="qalculate-gtk"] border none
for_window [app_id="qalculate-gtk"] floating enable
for_window [app_id="stremio"] inhibit_idle fullscreen

# Clipboard history
bindsym $mod+z exec cliphist list | fuzzel --dmenu | cliphist decode | wl-copy
bindsym $mod+Return exec $term -e sh -c "tmux attach || tmux new -s Things"
bindsym $mod+space exec $menu
bindsym $mod+y exec $term -e tSess
# bindsym $mod+Shift+space exec $menu
bindsym $mod+Shift+Return exec $TERMINAL
# bindsym Mod1+Return exec $TERMINAL -e openInVim
bindsym $mod+d exec $TERMINAL -e vid-grab

# Brightness control
bindsym $mod+Mod1+equal exec brightnessctl -e set 3%+
bindsym $mod+Mod1+minus exec brightnessctl -e set 3%-

# bindsym $mod+Ctrl+v exec pavucontrol
bindsym $mod+c exec qalculate-gtk

# Music player
bindsym $mod+Mod1+Return exec $TERMINAL -e ncmpcpp

# Screenshots
bindsym Ctrl+Shift+s exec scrshot cpy
bindsym $mod+s exec scrshot fullscr
bindsym $mod+Shift+s exec scrshot sel

bindsym Print exec scrshot fullscr
bindsym Shift+Print exec scrshot sel

# Media keys and special keys
bindsym XF86MonBrightnessUp exec brightnessctl -e set 2%+
bindsym XF86MonBrightnessDown exec brightnessctl -e set 2%-
bindsym XF86AudioLowerVolume exec wpctl set-volume @DEFAULT_AUDIO_SINK@ 3%-
bindsym XF86AudioRaiseVolume exec wpctl set-volume @DEFAULT_AUDIO_SINK@ 3%+
bindsym XF86AudioMute exec wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindsym XF86AudioMicMute exec wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bindsym XF86AudioPrev exec mpc prev
bindsym XF86AudioNext exec mpc next
bindsym XF86AudioPlay exec mpc toggle
bindsym XF86HomePage exec librewolf
bindsym XF86Calculator exec galculator
bindsym XF86Favorites exec wofi-emoji
bindsym XF86Phone exec brightnessctl -e set 2%+
bindsym XF86HangupPhone exec brightnessctl -e set 2%-
bindsym Help exec $BROWSER

# Audio and media with Alt
bindsym Mod1+Up exec wpctl set-volume @DEFAULT_AUDIO_SINK@ 3%+
bindsym Mod1+Down exec wpctl set-volume @DEFAULT_AUDIO_SINK@ 3%-
bindsym Mod1+Shift+space exec mpc toggle
bindsym Mod1+Shift+Right exec mpc next
bindsym Mod1+Shift+Left exec mpc prev
bindsym Mod1+bracketleft exec mpc seek -10
bindsym Mod1+bracketright exec mpc seek +10
bindsym Mod1+Shift+bracketleft exec mpc seek -60
bindsym Mod1+Shift+bracketright exec mpc seek +60
bindsym Mod1+Right exec mpc vol +5
bindsym Mod1+Left exec mpc vol -5
bindsym Mod1+Ctrl+space exec mpc single
bindsym Mod1+apostrophe exec mpc seek 0%

# Wallpaper
bindsym $mod+Shift+w exec set-wallpaper
bindsym Mod1+Ctrl+w exec randomize-wall
# bindsym $mod+grave exec alacritty

bindsym $mod+BackSpace exec power
bindsym $mod+Shift+d exec pcmanfm
bindsym $mod+Shift+e exec $TERMINAL -e htop
bindsym $mod+w exec $BROWSER

bindsym $mod+v exec $TERMINAL -e transg-tui
# bindsym $mod+x exec $TERMINAL -e ytfzf
# bindsym $mod+Shift+n exec $TERMINAL -e tmux new
bindsym $mod+slash exec mount-drives
bindsym $mod+Ctrl+slash exec mount-and
bindsym $mod+Shift+slash exec umount-drives
bindsym $mod+Ctrl+r exec webcam-show
bindsym $mod+e exec qr-gen
bindsym $mod+m exec movie-watch
bindsym $mod+Shift+b exec read-book

# Gammastep
bindsym $mod+u exec nightcolor 1
bindsym $mod+Shift+u exec nightcolor

# Network / Media
# bindsym Mod1+w exec $TERMINAL -e nmtui
bindsym $mod+Shift+m exec mpv-play
bindsym $mod+b exec killall -SIGUSR1 waybar
bindsym $mod+a exec $TERMINAL -e lf
# bindsym $mod+Shift+Return exec $TERMINAL -e openInVim
bindsym $mod+p exec tmux new-window -n "Nvim" "fzf-proj"
bindsym $mod+n exec $TERMINAL -e take-notes

# bindsym Ctrl+Shift+x exec killTask
bindsym $mod+semicolon exec spellchk

bindsym $mod+q kill

floating_modifier $mod normal
bindsym $mod+Control+q reload
bindsym $mod+Shift+q exec swaymsg exit

# Move your focus around
bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right

# Move the focused window with the same, but add Shift
bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right

# Workspaces:
# Switch to workspace
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9
bindsym $mod+0 workspace number 10

# Move focused container to workspace
bindsym $mod+Shift+1 move container to workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5
bindsym $mod+Shift+6 move container to workspace number 6
bindsym $mod+Shift+7 move container to workspace number 7
bindsym $mod+Shift+8 move container to workspace number 8
bindsym $mod+Shift+9 move container to workspace number 9
bindsym $mod+Shift+0 move container to workspace number 10

bindsym $mod+t splith
bindsym $mod+Shift+t splitv

bindsym $mod+Shift+Tab layout tabbed
bindsym $mod+Tab layout toggle split

bindsym $mod+Shift+f fullscreen
bindsym $mod+f floating toggle
bindsym $mod+Control+f focus mode_toggle

bindsym $mod+Shift+a focus parent

mode "resize" {
    bindsym $left resize shrink width 10px
    bindsym $down resize grow height 10px
    bindsym $up resize shrink height 10px
    bindsym $right resize grow width 10px

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

bindsym $mod+r mode "resize"
